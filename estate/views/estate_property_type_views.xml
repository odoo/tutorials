<?xml version="1.0" encoding="UTF-8"?>
<odoo>

  <!-- List View -->
  <record id="view_estate_property_type_tree" model="ir.ui.view">
    <field name="name">estate.property.type.tree</field>
    <field name="model">estate.property.type</field>
    <field name="arch" type="xml">
      <list>
        <field name="sequence" widget="handle" />
        <field name="name"/>
      </list>
    </field>
  </record>


<record id="action_estate_property_offer" model="ir.actions.act_window">
  <field name="name">Offers</field>
  <field name="res_model">estate.property.offer</field>
  <field name="view_mode">list</field>
  <field name="domain">[('property_type_id', '=', active_id)]</field>
</record>


  <!-- Form View -->
<record id="view_estate_property_type_form" model="ir.ui.view">
  <field name="name">estate.property.type.form</field>
  <field name="model">estate.property.type</field>
  <field name="arch" type="xml">
    <form string="Property Type">
      <header>
        <button name="%(action_estate_property_offer)d"
                type="action"
                class="oe_stat_button"
                icon="fa-money">
          <div>
            <field name="offer_count" widget="statinfo" string="Offers"/>
         </div>
        </button>
      </header>
      <sheet>
        <!-- Heading-like Title -->
        <h1>
          <field name="name"/>
        </h1>

        <!-- Notebook Tabs -->
        <notebook>
          <!-- Description or Meta tab -->

          <!-- List of Related Properties -->
          <page string="Properties">
            <field name="property_ids" nolabel="1">
              <list>
                <field name="name"/>
                <field name="expected_price"/>
                <field name="state"/>
              </list>
            </field>
          </page>
        </notebook>
      </sheet>
    </form>
  </field>
</record>


  <!-- Action -->
  <record id="action_estate_property_type" model="ir.actions.act_window">
    <field name="name">Property Types</field>
    <field name="res_model">estate.property.type</field>
    <field name="view_mode">list,form</field>
  </record>

  <!-- Menu -->
  <menuitem id="estate_menu_property_type" name="Property Types"
            parent="estate_menu_properties_root"
            action="action_estate_property_type"/>
</odoo>
