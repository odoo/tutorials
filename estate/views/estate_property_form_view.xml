<odoo>
    <record id="estate_property_view_form" model="ir.ui.view">
        <field name="name">estate.property.form.view</field>
        <field name="model">estate.property</field>
        <field name="arch" type="xml">
            <form string="Create Property">
                <header>
                    <button
                        name="sell"
                        type="object"
                        string="Sold"
                        invisible="state == 'sold'"
                    />
                    <button
                        name="cancel"
                        type="object"
                        string="Cancel"
                        invisible="state == 'sold'"
                    />
                    <field
                        name="state"
                        widget="statusbar"
                        statusbar_visible="new,offer_received,offer_accepted,sold"
                        nolabel="1"
                        class="oe_inline"
                    />
                </header>

                <sheet>
                    <group>
                        <group>
                            <field
                                name="tag_ids"
                                widget="many2many_tags"
                                options="{'color_field': 'color'}"
                            />
                            <field name="name"/>
                            <field
                                name="property_type_id"
                                options="{'no_create_edit': True, 'no_create': True}"
                            />
                            <field name="postcode"/>
                            <field name="date_availability"/>
                        </group>

                        <group>
                            <field name="expected_price"/>
                            <field name="best_price"/>
                            <field name="selling_price"/>
                        </group>
                    </group>

                    <notebook>
                        <page string="Description">
                            <group>
                                <field name="description"/>
                                <field name="bedrooms"/>
                                <field name="living_area"/>
                                <field name="facades"/>
                                <field name="garage"/>
                                <field name="garden"/>
                                <field
                                    name="garden_area"
                                    invisible="garden == False"
                                />
                                <field
                                    name="garden_orientation"
                                    invisible="garden == False"
                                />
                                <field name="total_area"/>
                            </group>
                        </page>

                        <page string="Offers">
                            <field
                                name="offer_ids"
                                context="{'default_property_id': id}"
                                mode="list, form"
                                views="[(tree: 'offer_list_view'), (form, 'offer_form_view)]"
                                readonly="state == 'offer_accepted' or state=='sold' or state == 'cancelled'"
                            />
                        </page>

                        <page string="Other Info">
                            <group>
                                <field name="salesperson_id"/>
                                <field name="buyer_id"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
</odoo>
