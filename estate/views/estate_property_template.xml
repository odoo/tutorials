<odoo>
    <template id="estate.estate_property_view_template">
    <t t-call="website.layout">
    <div class="container">
        <div class="row mt-4">
            <div class="col text-center">
                <nav>
                    <ul class="pagination w-100 d-flex">
                        <t t-if="page &gt; 1">
                            <li class="page-item me-auto">
                                <a t-att-href="'/properties/page/%s' % (page - 1)" class="page-link">Previous</a>
                            </li>
                        </t>
                        <t t-if="page &lt; total_pages">
                            <li class="page-item ms-auto">
                                <a t-att-href="'/properties/page/%s' % (page + 1)" class="page-link">Next</a>
                            </li>
                        </t>
                    </ul>
                </nav>
            </div>
        </div>
        <t t-if="properties">
        <div class="d-flex w-100">
            <form method="GET" action="/properties" class="mb-10 me-auto">
                <input type="text" name="search_property" t-att-value='search_property' class="form-control d-inline w-auto"/>
                <button type="submit" class="btn btn-primary">search</button>
            </form>
            <form method="GET" action="/properties" class="mb-3 ms-auto">
                <input type="date" name="filter_date" t-att-value='filter_date' class="form-control d-inline w-auto"/>
                <button type="submit" class="btn btn-primary">Listed After</button>
            </form>
        </div>
            <div class="row">
                <t t-foreach="properties" t-as="property">
                        <div class="col-md-4 col-sm-6 mt-4 mb-4 ">
                            <div class="card border border-success h-100">
                                <img t-att-src="image_data_uri(property.image_1920)" class="card-img-top img-fluid h-50" alt="Property Image"/>
                                <div class="card-body">
                                    <h5 class="card-title font-weight-bold"><t t-esc="property.name"/></h5>
                                    <p class="card-text">Postcode: <t t-esc="property.postcode"/></p>
                                    <p class="card-text">Bedrooms: <t t-esc="property.bedrooms"/> Bedrooms</p>
                                    <p class="card-text text-success">Living Area(sqm):<t t-esc="property.living_area"/></p>
                                    <p class="card-text">Expected Price:<t t-esc="property.expected_price"/></p>
                                    <p class="card-text">Selling Price:<t t-esc="property.selling_price"/></p>
                                    <t t-if="property.tag_ids">
                                        <span class="badge badge-primary" t-foreach="property.tag_ids" t-as="tag">
                                            <t t-esc="tag.name"/>
                                        </span>
                                    </t>
                                    <a t-att-href="'/properties/%s' % property.id" class="btn btn-info">View Details</a>
                                </div>
                            </div>
                        </div>
                </t>
                </div>
            </t>
            <t t-else="">
                <p>No properties available</p>
            </t>
            </div>
        </t>
    </template>
    <template id="estate.estate_property_detail_template">
        <t t-call="website.layout">
            <div class="container mt-5">
                <div class="row mt-4 mb-4">
                    <div class="col">
                        <a href="/properties" class="btn btn-secondary">Back to Properties</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <img t-att-src="image_data_uri(property.image_1920)" class="img-fluid h-100" alt="Property Image"/>
                    </div>
                    <div class="col-md-6">
                        <h3 class="font-weight-bold"><t t-esc="property.name"/></h3>
                        <p class="text-muted"><small>Postcode: <t t-esc="property.postcode"/></small></p>
                        <p><strong>Description:</strong> <t t-esc="property.description or 'No description available'"/></p>
                        <ul class="list-unstyled">
                            <li><strong>Bedrooms:</strong> <t t-esc="property.bedrooms"/> Bedrooms</li>
                            <li><strong>Living Area:</strong> <t t-esc="property.living_area"/> sqm</li>
                            <li><strong>Expected Price:</strong> $<t t-esc="property.expected_price"/></li>
                            <li><strong>Selling Price:</strong> $<t t-esc="property.selling_price or 'Not sold yet'"/></li>
                            <li><strong>Garden:</strong> <t t-esc="property.garden and 'Yes' or 'No'"/></li>
                            <li><strong>Garage:</strong> <t t-esc="property.garage and 'Yes' or 'No'"/></li>
                            <li><strong>State:</strong> <t t-esc="property.state"/></li>
                        </ul>
                        <div>
                            <strong>Tags:</strong>
                                <t t-if="property.tag_ids">
                                    <ul class="list-inline">
                                        <t t-foreach="property.tag_ids" t-as="tag">
                                            <li class="list-inline-item"><span class="badge badge-secondary"><t t-esc="tag.name"/></span></li>
                                        </t>
                                    </ul>
                                </t>
                            <t t-else="">
                                <p>No tags available</p>
                            </t>
                        </div>
                        <p><strong>Available From:</strong> <t t-esc="property.date_availability"/></p>
                        <p><strong>Property Type:</strong> <t t-esc="property.property_type_id.name"/></p>
                        <p><strong>Salesperson:</strong> <t t-esc="property.salesperson_id.name"/></p>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col">
                        <h4 class="font-weight-bold">Best Offer:</h4>
                        <p class="text-success"><t t-esc="property.best_offer or 'No offers yet'"/></p>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>
