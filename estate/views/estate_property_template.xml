<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="estate_property_web_view" name="Properties">
        <t t-call="website.layout">
            <html>
                <head>
                    <title>Properties</title>
                    <style>
                        .card-img-top {
                            height: 200px;
                            object-fit: cover;
                            overflow: hidden;
                        }
                        .card-text-description {
                            white-space: nowrap;
                            overflow: hidden;
                            text-overflow: ellipsis;
                        }
                    </style>
                </head>
                <body>
                    <div class="container my-5">
                        <h2 class="text-center mb-4">Available Properties</h2>
                        <div class="row">
                            <t t-foreach="properties" t-as="property">
                                <div class="col-md-4 mb-4">
                                    <div class="card">
                                        <img t-att-src="'/web/image/estate.property/%d/image' % property.id" class="card-img-top" alt="property image" />
                                        <div class="card-body">
                                            <h5 class="card-title">
                                                <t t-esc="property.name"/>
                                            </h5>
                                            <p class="card-text">Price: <t t-esc="property.expected_price"/>
                                            </p>
                                            <p class="card-text card-text-description">Description: <t t-esc="property.description"/>
                                            </p>
                                            <a t-att-href="'/properties/' + str(property.id)" class="btn btn-primary">View Property</a>
                                        </div>
                                    </div>
                                </div>
                            </t>
                        </div>
                        <div class="d-flex justify-content-center my-3">
                            <t t-call="website.pager"/>
                        </div>
                    </div>
                </body>
            </html>
        </t>
    </template>
    </data>
</odoo>
