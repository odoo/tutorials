<odoo>
    <template id="estate_property_webpage" name="Estate Properties">
        <t t-call="website.layout">
            <t t-set="title">Estate Properties</t>
            <div class="container">
                <h1 class="text-center">Available Estate Properties</h1>
                <p>Browse through the list of available properties.</p>
                <form action="/properties" method="get" class="mb-4">
                    <div class="row mb-4">
                        <div class="col-md-4">
                            <input type="date" id="date-picker" name="listed_after" class="form-control" t-att-value="listed_after"/>
                        </div>
                    </div>
                    <div class="input-group">
                        <input type="text" name="search" class="form-control"
                            placeholder="Search by property name..."
                            t-att-value="search"/>
                        <button type="submit" class="btn btn-primary">Search</button>
                    </div>
                </form>
                <div class="row">
                    <t t-if="properties">
                        <t t-foreach="properties" t-as="property">
                            <div class="col-md-4">
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <h5 class="card-title"><t t-esc="property.name"/></h5>
                                        <p class="card-text">
                                            <t t-if="property.property_image">
                                                <img t-att-src="'/web/image/%s/%s/property_image' % (property._name, property.id)"
                                                alt="Property Image"
                                                style="max-width: 400px; height: auto;"/>

                                            </t>
                                            <t t-else="">
                                                <p>No image available</p>
                                            </t> 
                                            <br/>
                                            <strong>Price:</strong> <t t-esc="property.expected_price"/> <br/>
                                            <strong>Bedrooms:</strong> <t t-esc="property.bedrooms"/> <br/>
                                            <strong>Living Area:</strong> <t t-esc="property.living_area"/> sq.ft <br/>
                                            <strong>Garden:</strong> <t t-esc="'Yes' if property.garden else 'No'"/> <br/>
                                        </p>
                                        <a t-att-href="'/properties/details/%s' % (property.id)" class="btn btn-primary">View Details</a>
                                    </div>
                                </div>
                            </div>
                        </t>
                <div class='navbar mb-3 w-100'>
                    <t t-call="website.pager">
                        <t t-set="classname" t-valuef="mx-auto" />
                    </t>
                </div>   
                    </t>
                    <t t-else="">
                        <p>No properties available at the moment.</p>
                    </t>
                </div>
            </div>
        </t>
    </template>
</odoo>
