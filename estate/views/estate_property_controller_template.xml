<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="property_controller">
        <t t-call="website.layout">
            <div style="container" class="mb-5 container">
                <h1 class="text-center mt-5">Available Properties</h1>
                <div t-if="properties" class="d-flex justify-content-start flex-wrap">
                    <div t-foreach="properties" t-as="property"
                        style="width:28%; margin:2rem;padding:2px; border:solid black 2px">
                        <a t-attf-href="/property/#{property.id}">
                            <img style="width:100%;height:100%" t-if="property.property_image"
                                t-att-src="image_data_uri(property.property_image)"
                            />
                            <br />
                            <h4 style="width:100%;text-align:center;margin-top:1rem;">
                                <t t-out="property.name"/>
                            </h4>
                        </a>
                    </div>
                </div>
                <div t-else="">
                    <p>No properties are available at the moment.</p>
                </div>
                <div class="d-flex justify-content-center mt-5">
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            <t t-foreach="range(1, totalPage + 1)" t-as="var">
                                <li
                                    t-att-class="'page-item' + ('' if var != page_no else ' active')">
                                    <a t-attf-href="/properties/#{var}" class="page-link">
                                        <t t-out="var" />
                                    </a>
                                </li>
                            </t>
                        </ul>
                    </nav>
                </div>


            </div>

        </t>
    </template>

    <template id="template_property_details" name="Property Details">
        <t t-call="website.layout">
            <div class="container mt-5 mb-5">
                <h2 class="text-center mb-4">
                    <t t-out="property.name" />
                </h2>
                <div class="d-flex justify-content-between border p-5 border-5">
                    <div class="col-md-6 col-12" style="width:45%">
                        <t t-if="property.property_image">
                            <img t-att-src="image_data_uri(property.property_image)"
                                style="width:100%;height:100%" />
                        </t>
                        <t t-else="">
                            <img src="/web/static/src/img/placeholder.png" class="img-fluid rounded"
                                alt="No Image Available" />
                        </t>
                    </div>

                    <div class="col-md-6 col-12" style="width:45%">

                        <p class="">
                            <strong> Price: INR <t t-out="property.expected_price" />
                            </strong>
                        </p>
                        <p>
                            <b>Bedrooms:</b>
                            <t t-out="property.bedrooms" />
                        </p>
                        <p>
                            <b>Garden Area:</b>
                            <t t-out="property.garden_area" />
                        </p>
                        <p><b>Living Area:</b> <t t-out="property.living_area" /> sq ft</p>
                        <p class="mt-4">
                            <b>

                                <t t-out="property.description" />
                            </b>
                        </p>
                        <a href="/contactus" class="btn btn-lg btn-primary mt-4">Contact Us for More
                            Information</a>
                    </div>
                </div>
            </div>
        </t>
    </template>


</odoo>