<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="properties_list_page" name="Estate Properties List">
        <t t-call="website.layout">
            <div class="container">
                <h2 class="mt-3 mb-3">Real Estate Properties</h2>
                <!-- <form method="get" action="/properties"
                    class="o_searchbar_form s_searchbar_input o_wsale_products_searchbar_form me-auto flex-grow-1 d-lg-inline d-inline">
                    <div role="search" class="input-group mb-5">
                        <input type="number" name="price"
                            class="search-query form-control oe_search_box border-0 text-bg-light border-0 bg-light"
                            placeholder="Price Filter" />
                        <button type="submit" aria-label="Search" title="Search"
                            class="btn oe_search_button btn btn-light">
                            <i class="oi oi-search"></i>
                        </button>
                    </div>
                </form> -->
                <form method="get" action="/properties" class="o_searchbar_form s_searchbar_input o_wsale_products_searchbar_form me-auto flex-grow-1 d-lg-inline d-inline">
                    <div class="input-group mb-5">
                        <input type="number" t-att-value="min_price" name="min_price" class="form-control oe_search_box border-0 text-bg-light bg-light" placeholder="Min Price" min="0" />

                        <input type="number" t-att-value="max_price" name="max_price" class="form-control oe_search_box border-0 text-bg-light bg-light" placeholder="Max Price" min="0" />

                        <button type="submit" class="btn btn-primary" title="Filter">
                            <i class="oi oi-filter"></i> Filter
                        </button>
                    </div>
                </form>

                <div class="row">
                    <t t-foreach="properties" t-as="property">
                        <div class="col-md-4 mb-4">
                            <div class="card">
                                <div class="ratio ratio-4x3">
                                    <t t-if="property.image">
                                        <img t-att-src="image_data_uri(property.image)"
                                            class="card-img-top object-fit-cover"
                                            alt="Property Image" />
                                    </t>
                                    <t t-else="">
                                        <img src="/estate/static/src/img/default.jpeg"
                                            class="card-img-top" alt="Property Image" />
                                    </t>
                                </div>
                                <div class="card-body">
                                    <h5 class="card-title">
                                        <t t-esc="property.name" />
                                    </h5>
                                    <p class="card-text">
                                        <strong>Price : </strong> ₹ <t
                                            t-esc="property.expected_price" />
                                    </p>
                                    <a t-att-href="'/property/%d' % property.id"
                                        class="btn btn-outline-primary">
                                        <i class="fa fa-info-circle"></i> View Details </a>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
                <div class="d-flex justify-content-center my-3">
                    <t t-call="website.pager" />
                </div>
            </div>
        </t>
    </template>

    <template id="property_detail_page" name="Customer Property View">
        <t t-call="website.layout">
            <div class="container my-5">
                <!-- Full-width Property Image -->
                <div class="mb-5 text-center">
                    <t t-if="property.image">
                        <img t-att-src="image_data_uri(property.image)"
                            class="img-fluid rounded-3 shadow-lg w-100" style="object-fit: cover;"
                            alt="Property Image" />
                    </t>
                    <t t-else="">
                        <img src="/estate/static/src/img/default.jpeg"
                            class="img-fluid rounded-3 shadow-lg w-100" style="object-fit: cover;"
                            alt="Property Image" />
                    </t>
                </div>

                <!-- Property Title and Price -->
                <div class="row mb-4">
                    <div class="col-lg-8">
                        <h1 class="display-4 text-primary mb-0 fw-bold">
                            <t t-esc="property.name" />
                        </h1>
                        <p class="text-muted">Postcode: <t t-esc="property.postcode" /></p>
                    </div>
                    <div class="col-lg-4 text-lg-end">
                        <h2 class="display-5 mb-0">₹ <t t-esc="property.expected_price" /></h2>
                        <p class="text-muted">Expected Price</p>
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-lg-12">
                        <h3 class="mb-4 border-bottom pb-2">Property Details</h3>
                        <ul class="list-unstyled">
                            <li class="mb-4 bg-light p-3 rounded-3">
                                <i class="fa fa-bed text-primary me-2"></i>
                                <strong>Bedrooms:</strong>
                                <t t-esc="property.bedrooms" />
                            </li>
                            <li class="mb-4 bg-light p-3 rounded-3">
                                <i class="fa fa-square text-primary me-2"></i>
                                <strong>Living Area:</strong>
                                <t t-esc="property.living_area" /> m²
                            </li>
                            <t t-if="property.garden">
                                <li class="mb-4 bg-light p-3 rounded-3">
                                    <i class="fa fa-tree text-primary me-2"></i>
                                    <strong>Garden Area:</strong>
                                    <t t-esc="property.garden_area" /> m²
                                </li>
                            </t>
                            <li class="mb-4 bg-light p-3 rounded-3">
                                <i class="fa fa-clone text-primary me-2"></i>
                                <strong>Total Area:</strong>
                                <t t-esc="property.total_area" /> m²
                            </li>
                            <li class="mb-3 bg-light p-3 rounded-3">
                                <i class="fa fa-calendar text-primary me-2"></i>
                                <strong>Available From:</strong>
                                <t t-esc="property.date_availibility" />
                            </li>
                            <li t-if="property.garden" class="mb-3 bg-light p-3 rounded-3">
                                <i class="fa fa-compass text-primary me-2"></i>
                                <strong>Garden Orientation:</strong>
                                <t t-esc="property.garden_orientation" />
                            </li>
                            <li class="mb-3 bg-light p-3 rounded-3">
                                <i class="fa fa-car text-primary me-2"></i>
                                <strong>Garage:</strong>
                                <span t-if="property.garage">Yes</span>
                                <span t-if="not property.garage">No</span>
                            </li>
                            <li class="mb-3 bg-light p-3 rounded-3">
                                <i class="fa fa-tree text-primary me-2"></i>
                                <strong>Garden:</strong>
                                <span t-if="property.garden">Yes</span>
                                <span t-if="not property.garden">No</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </t>
    </template>

</odoo>
