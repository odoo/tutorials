<odoo noupdate="1">
    <!-- Unified Mail Template for Offer Acceptance or Rejection -->
    <record id="estate_offer_notification_email" model="mail.template">
        <field name="name">Offer Notification</field>
        <field name="model_id" ref="estate.model_estate_property_offer"/>
        <field name="email_from">{{ ctx.get('user_email', '') }}</field>
        <field name="partner_to">{{ ctx.get('partner_id', '') }}</field>
        <field name="subject">{{ 'Offer Accepted' if ctx.get('is_accepted') else 'Offer Refused' }} for {{ ctx.get('property_name', '') }}</field>
        <field name="description">Notification for offer status</field>
        <field name="body_html" type="html">
            <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #F1F1F1; font-family:Verdana, Arial,sans-serif; color: #454748; width: 100%; border-collapse:separate;">
                <tr><td align="center">
                    <table border="0" cellpadding="0" cellspacing="0" width="590" style="padding: 16px; background-color: white; color: #454748; border-collapse:separate;">
                        <tbody>
                            <tr>
                                <td align="top" style="font-size: 13px;">
                                    <div>
                                        <p>Dear <t t-out="ctx.get('partner_name', 'Valued Customer')">Customer</t>,</p>
                                        
                                        <t t-if="ctx.get('is_accepted')">
                                            <p>We are pleased to inform you that your offer has been accepted.</p>
                                        </t>
                                        <t t-else="">
                                            <p>We regret to inform you that your offer has been refused.</p>
                                        </t>
                                        
                                        <p><strong>Offer Details:</strong></p>
                                        <ul>
                                            <li>Property: <t t-out="ctx.get('property_name', '')">Property Name</t></li>
                                            <li>Offer Amount: <t t-out="ctx.get('offer_amount', '0.00')">$0.00</t></li>
                                        </ul>
                                        
                                        <t t-if="ctx.get('is_accepted')">
                                            <p>Please contact us for the next steps regarding the agreement and further formalities.</p>
                                        </t>
                                        <t t-else="">
                                            <p>You may consider exploring other available properties.</p>
                                        </t>

                                        <p>Best regards,</p>
                                        <p><t t-out="ctx.get('user_signature', '')">Your Name</t></p>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td></tr>
            </table>
        </field>
    </record>
</odoo>
