<?xml version="1.0"?>
<odoo>
    <record id="crm_lead_view_form" model="ir.ui.view">
        <field name="name">crm.lead.form.inherit.tcil.crm</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='user_id']" position="attributes">
                <attribute name="string">BD Person</attribute>
            </xpath>
            <xpath expr="//page[@name='extra']" position="after">
                <page string="Service Vertical" name="service_vertical" invisible="stage_sequence_no == 1"/>
            </xpath>
            <xpath expr="//page[@name='lead']" position="after">
                <page name="details" string="Contact details" invisible="type == 'lead'">
                    <!-- Address Details Section -->
                    <group>
                        <field name="address_detail_ids" string="Address Detail" readonly="not partner_id" context="{'default_parent_id': partner_id, 'default_type': 'delivery'}" force_save="1">
                            <list editable="bottom">
                                <field name="is_selected_line" widget="boolean" nolabel="1" force_save="1"/>
                                <field name="name" readonly="1"/>
                                <field name="phone" readonly="1"/>
                                <field name="mobile" readonly="1"/>
                                <field name="email" readonly="1"/>
                                <field name="user_id" readonly="1"/>
                                <field name="street" readonly="1"/>
                                <field name="city" readonly="1"/>
                                <field name="state_id" readonly="1"/>
                                <field name="country_id" readonly="1"/>
                                <field name="company_id" readonly="1"/>
                            </list>
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="name" string="Contact Name" placeholder="e.g. New Address"/>
                                            <label for="street" string="Address"/>
                                            <div class="o_address_format" name="div_address">
                                                <field name="street" placeholder="Street..." class="o_address_street"/>
                                                <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                                <field name="city" placeholder="City" class="o_address_city"/>
                                                <field name="state_id" class="o_address_state" placeholder="State" options="{'no_open': True, 'no_quick_create': True}" context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}"/>
                                                <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                                <field name="country_id" placeholder="Country" class="o_address_country" options='{"no_open": True, "no_create": True}'/>
                                            </div>
                                        </group>
                                        <group>
                                            <field name="email" widget="email"/>
                                            <field name="phone" widget="phone"/>
                                            <field name="mobile" widget="phone"/>
                                            <field name="company_id"/>
                                        </group>
                                    </group>
                                </sheet>
                            </form>
                        </field>
                    </group>
                    <group>
                        <!-- Contact Details Section -->
                        <field name="contact_detail_ids" string="Contact Details" readonly="not is_contact_detail_editable" context="{'default_parent_id': selected_address_partner_id, 'default_type': 'contact'}">
                            <list class="hide_x2many_remove_btn" editable="bottom">
                                <field name="name" readonly="1"/>
                                <field name="function" readonly="1"/>
                                <field name="phone" readonly="1"/>
                                <field name="email" readonly="1"/>
                                <field name="user_id" readonly="1"/>
                                <field name="street" readonly="1"/>
                                <field name="city" readonly="1"/>
                                <field name="state_id" readonly="1"/>
                                <field name="country_id" readonly="1"/>
                                <field name="company_id" readonly="1"/>
                            </list>
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="name" string="Contact Name" required="True" placeholder="e.g. New Address"/>
                                            <field name="title" options="{'no_open': True}" placeholder="e.g. Mr."/>
                                            <field name="function" placeholder="e.g. Sales Director"/>
                                        </group>
                                        <group>
                                            <field name="email" widget="email"/>
                                            <field name="phone" widget="phone"/>
                                            <field name="mobile" widget="phone"/>
                                            <field name="company_id"/>
                                        </group>
                                    </group>
                                </sheet>
                            </form>
                        </field>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
