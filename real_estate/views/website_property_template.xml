<odoo>
    <record id="website_property_listing_menu" model="website.menu">
        <field name="name">Properties</field>
        <field name="url">/properties</field>
        <field name="parent_id" ref="website.main_menu"/>
    </record>
    <template id="website_property_template" name="Property Listing">
        <t t-call="website.layout">
            <div class="container">
                <h1 class="text-center">Available Properties</h1>
                <div class="row">
                    <t t-foreach="properties" t-as="property">
                        <div class="col-md-4 ">
                            <div class="card shadow-sm mb-4">
                                <div class="card-body " >
                                    <h3><a t-att-href="'/properties/%s' % property.id" t-esc="property.name"/></h3>
                                    <p class="card-text"><t t-esc="property.description"/></p>
                                    <p><strong>Price: </strong> Rs. <t t-esc="property.expected_price"/> </p>
                                <img 
                                    t-if="property['image']" 
                                    class="card-img-top" 
                                    t-att-src="image_data_uri(property['image'])" 
                                    t-att-alt="property.name"
                                    style="width: 180px; height: 180px; object-fit: cover;"
                                />
                                <img 
                                    t-else="" 
                                    class="card-img-top" 
                                    src="/real_estate/static/src/images/card-default.svg" 
                                    t-att-alt="property.name" 
                                    style="width: 180px; height: 180px; object-fit: cover;"
                                />
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>
    <template id="property_detail_template" name="Property Detail">
        <t t-call="website.layout">
            <div class="container my-5 p-4 shadow-lg rounded bg-light">
                <div class="row">
                    <div class="col-md-6 text-center">
                        <img 
                            t-if="property['image']" 
                            class="img-fluid rounded border" 
                            t-att-src="image_data_uri(property['image'])" 
                            t-att-alt="property.name"
                            style="width: 100%; height: auto; object-fit: cover;"
                        />
                        <img 
                            t-else="" 
                            class="img-fluid rounded border" 
                            src="/real_estate/static/src/images/card-default.svg" 
                            t-att-alt="property.name" 
                            style="max-width: 100%; height: auto; object-fit: cover;"
                        />
                    </div>
                     <div class="col-md-6">
                        <h1 class="mb-3 text-primary"><t t-esc="property.name"/></h1>
                        <p class="lead"><t t-esc="property.description"/></p>
                        <div class="mt-3">
                            <span t-if="property.property_tag_ids" class="badge" 
                                t-foreach="property.property_tag_ids" t-as="tag" t-esc="tag.name"  />
                        </div>
                        <hr class="my-2"/>
                        <ul class="list-unstyled">
                            <li><strong>Price:</strong> Rs. <span class="text-success" t-esc="property.expected_price"/> </li>
                            <li><strong>Status:</strong> <span t-esc="property.status"/></li>
                            <li><strong>Property Type:</strong> <span t-esc="property.property_type_id.name"/></li>
                            <li><strong>Bedrooms:</strong> <span t-esc="property.bedrooms"/></li>
                            <li><strong>Living Area:</strong> <span t-esc="property.living_area"/> sqm</li>
                            <li><strong>Facades:</strong> <span t-esc="property.facades"/></li>
                            <li><strong>Garage:</strong> <span t-esc="'Yes' if property.garage else 'No'"/></li>
                            <li><strong>Garden:</strong> <span t-esc="'Yes' if property.garden else 'No'"/></li>
                            <li t-if="property.garden"><strong>Garden Area:</strong> <span t-esc="property.garden_area"/> sqm</li>
                            <li t-if="property.garden"><strong>Garden Orientation:</strong> <span t-esc="property.garden_orientation"/></li>
                            <li><strong>Postcode:</strong> <span t-esc="property.postcode"/></li>
                            <li><strong>Available From:</strong> <span t-esc="property.date_availability"/></li>
                            <li><strong>Salesperson:</strong> <span t-esc="property.salesperson_id.name"/></li>
                            <li t-if="property.buyer_id"><strong>Buyer:</strong> <span t-esc="property.buyer_id.name"/></li>
                        </ul>
                    </div>
                    <div class="mt-4">
                        <h5>Offers:</h5>
                        <ul t-if="property.offer_ids" class="list-group">
                            <t t-foreach="property.offer_ids" t-as="offer">
                                <li class="list-group-item">
                                    Offer by <strong><t t-esc="offer.partner_id.name"/></strong> â€” <span class="text-success">Rs.  <t t-esc="offer.price"/></span>
                                </li>
                            </t>
                        </ul>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>
