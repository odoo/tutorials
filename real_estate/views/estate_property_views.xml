<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>        <!--Basic action that will open the default landing page of module-->
        <record id="test_model_action" model="ir.actions.act_window">
            <field name="name">Real Estate</field>
            <field name="res_model">estate.properties</field>
            <field name="view_mode">list,kanban,form</field>
            <field name="context">{'search_default_state': 1}</field>
        </record>        <!--Action that will define how much fields and what name of field should be shown in the table (form) for view-->
        <record id="estate_form_view" model="ir.ui.view">
            <field name="name">estate.form.view</field>
            <field name="model">estate.properties</field>
            <field name="arch" type="xml">
                <list decoration-success="state in ['offer_accepted','offer_recieved']" decoration-bf="state=='offer_accepted'" decoration-muted="state=='sold'">
                    <field string="Title" name="name" width="150"/>
                    <field string="Postcode" name="postcode" width="150"/>
                    <field string="Bedrooms" name="bedrooms"/>
                    <field string="Tags" name="tags_id" width="150" widget="many2many_tags" options="{'edit_tags': true, 'color_field': 'color'}"/>
                    <field string="Living Area(sqm)" name="living_area"/>
                    <field string="Expected Price" name="expected_price"/>
                    <field string="Selling Price" name="selling_price"/>
                    <field string="Available From" name="date_availability" optional="hide"/>
                </list>
            </field>
        </record>        <!--Action that will help to customize view for a form -->
        <record id="real_estate_view_form" model="ir.ui.view">
            <field name="name">real.estate.form</field>
            <field name="model">estate.properties</field>
            <field name="arch" type="xml">
                <form string="Estate">
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="new,offer_recieved,offer_accepted,sold"/>
                        <button name="action_property_sold" type="object" class="oe_highlight" string="Sold" invisible="state in ['sold', 'cancelled']"/>
                        <button name="action_property_rejected" type="object" string="Cancel" invisible="state in ['sold', 'cancelled']"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1 class="mb16">
                                <field name="name"/>
                            </h1>
                            <p class="mb10">
                                <field name="tags_id" widget="many2many_tags" options="{'edit_tags': true,'color_field': 'color'}"/>
                            </p>
                        </div>
                        <group>
                            <group>
                                <field name="property_type_id" options="{'no_quick_create':True,'no_edit':True,'no_create':True}"/>
                                <field name="postcode"/>
                                <field name="date_availability" string="Date Available"/>
                            </group>
                            <group>
                                <field name="expected_price"/>
                                <field name="best_offer"/>
                                <field name="selling_price"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Description">
                                <group>
                                    <field name="description"/>
                                    <field name="bedrooms"/>
                                    <field name="living_area"/>
                                    <field name="facades"/>
                                    <field name="garage"/>
                                    <field name="garden"/>
                                    <field name="garden_area" string="Garden Area (sqm)" invisible="garden == False"/>
                                    <field name="garden_orientation" string="Garden Orientation" invisible="garden == False"/>
                                    <field name="total_area" string="Total Area (sqm)"/>
                                </group>
                            </page>
                            <page string="Offers">
                                <field name="offer_ids" readonly="state in ['sold', 'offer_accepted','cancelled']">
                                    <list editable="bottom" decoration-success="status=='accepted'" decoration-danger="status=='rejected'">
                                        <field name="price"/>
                                        <field name="partner_id"/>
                                        <field name="status" readonly='True'/>
                                        <field name="validity"/>
                                        <field name="date_deadline" string="Deadline"/>
                                        <button name="accept_offer" title='Accept Offer' type="object" icon="fa-check" invisible="status in ['accepted','refused']"/>
                                        <button name="refuse_offer" title='Reject Offer' type="object" icon="fa-times" invisible="status in ['accepted','refused']"/>
                                    </list>
                                </field>
                            </page>
                            <page string="Other Info">
                                <group>
                                    <field name="users_id"/>
                                    <field name="partner_id"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>        <!--Action that will help to search data accordingly-->
        <record id="estate_view_search" model="ir.ui.view">
            <field name="name">estate.view.search</field>
            <field name="model">estate.properties</field>
            <field name="arch" type="xml">
                <search string="Search Data">
                    <field string="Title" name="name"/>
                    <field string="Postcode" name="postcode"/>
                    <field string="Expected Price For" name="expected_price"/>
                    <field string="Bedrooms" name="bedrooms"/>
                    <field string="Living Area (sqm)" name="living_area" filter_domain="[('living_area','>=',self)]"/>
                    <field string="Facades" name="facades"/>
                    <filter string="Available" name="state" domain="[&apos;|&apos;, (&apos;state&apos;, &apos;=&apos;, &apos;new&apos;), (&apos;state&apos;, &apos;=&apos;, &apos;offer_received&apos;)]"/>
                    <group expand="1" string="Group By">
                        <filter string="Postcode" name="postcode" context="{&apos;group_by&apos;:&apos;postcode&apos;}"/>
                    </group>
                </search>
            </field>
        </record>
    </data>
</odoo>