<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <template id="rental_product_with_deposit_amount" inherit_id="website_sale_renting.rental_product"
              name="Rental product with deposit amount">
        <xpath expr="//div[@id='product_option_block']" position="after">
            <div class="mt-3 d-flex justify-content-between" id="product_deposit_section">
                <strong>Deposit Required:</strong>
                <span id="product_amount_deposit"
                      t-att-data-base-amount="product.amount_deposit"
                      t-att-data-currency-symbol="website.company_id.currency_id.symbol">
                    <t t-out="website.company_id.currency_id.symbol"/>
                    <t t-out="product.amount_deposit"/>
                </span>
            </div>
        </xpath>
    </template>

    <template id="cart_line_deposite_amount" inherit_id="website_sale.cart_lines" name="Deposite Amount  in Cart">
        <xpath expr="//div[@name='website_sale_cart_line_quantity']" position="before">
            <t t-set="show_qty" t-value="not line.is_deposit_line"/>
        </xpath>
        <xpath expr="//div[@name='o_wsale_cart_line_button_container']/a[hasclass('js_delete_product')]"
               position="attributes">
            <attribute name="t-attf-class">#{'d-none' if line.is_deposit_line else 'js_delete_product'}</attribute>
        </xpath>
        <xpath expr="//div[@name='o_wsale_cart_line_button_container']" position="before">
            <t t-set="deposit_for" t-value="line.deposit_link_id or line"/>
            <t t-if="line.is_deposit_line">
                <div class="text-muted small mt-2">
                    This deposit is for
                    <span class="text-primary fw-semibold ms-1" t-esc="deposit_for.product_id.name"/>
                </div>
            </t>
        </xpath>

    </template>
</odoo>
