<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="estate_model_action_view_form_estate_auction" model="ir.ui.view">
        <field name="name">estate.model.action.view.form</field>
        <field name="model">estate.property</field>
        <field name="inherit_id" ref="estate.estate_model_action_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[hasclass('oe_title')]//h1[hasclass('oe_inline')]" position="after">
                <field name="sale_type" widget="radio" options="{'horizontal': true}"/>
            </xpath>
            <xpath expr="//page[@name='description']//group//group" position="after">
                <group string="Auction Details" invisible="sale_type == 'regular'">
                    <field name="auction_end_time"/>
                    <field name="highest_bid_price" readonly="1"/>
                    <field name="highest_bidder" readonly="1"/>
                </group>
            </xpath>
            <xpath expr="//button[@name='action_sold_property']" position="before">
                <button string="Start Auction" name="action_start_auction" type="object" invisible="is_auction_started == True or sale_type == 'regular' or auction_end_time == False" class="btn btn-primary"/>
                <button string="Auction Started" invisible="is_auction_started == False or sale_type == 'regular'" class="btn btn-primary"/>
            </xpath>
            <xpath expr="//h1[hasclass('oe_inline')]" position="after">
                <field name="auction_stages" widget="task_stage_with_state_selection" nolabel="1" readonly="1"/>
            </xpath>
            <xpath expr="//header" position="before">
                <div name='button_box'>
                    <button type="object" class="oe_stat_button" name="action_view_invoice" icon="fa-credit-card">
                        <span name='property_invoices' string='Offers' widget='statinfo'>Invoices</span>
                    </button>
                </div>
            </xpath>
        </field>
    </record>
</odoo>
