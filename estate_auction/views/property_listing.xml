<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="inherit_property_detail" inherit_id="estate.property_detail">
        <xpath expr="//div[hasclass('card-body')]" position="inside">
            <t t-if="property.auction_state == 'auction'">
                <div class="mt-3">
                    <a t-att-href="'/property/%s/add_offer' % property.id" class="btn btn-primary">Create Offer</a>
                </div>
            </t>
        </xpath>
        <xpath expr="//h1[hasclass('card-title')]" position="after">
            <t t-if="property.auction_state == 'auction' and property.auction_state in ['auction', 'sold']">
                <div class="alert alert-info col-md-10 m-3" t-if="property.auction_end_time">
                    <strong t-if="property.state not in ['offer_accepted', 'sold']">Auction Ends In:</strong>
                    <div id="auction_timer" t-att-data-end-time="property.auction_end_time"></div>
                </div>
            </t>
        </xpath>
    </template>

    <template id="inherit_property_listing" inherit_id="estate.property_listing">
        <xpath expr="//form/div[hasclass('col-md-2', 'd-flex', 'align-items-end')]" position="before">
            <div class="col-md-3">
                <label for="selling_method">Selling Method</label>
                <select id="selling_method" name="selling_method" class="form-control">
                    <option value="">All</option>
                    <option value="regular" t-att-selected="'regular' if selling_method == 'regular' else None">Regular Sale</option>
                    <option value="auction" t-att-selected="'auction' if selling_method == 'auction' else None">Auction</option>
                </select>
            </div>
        </xpath>
    </template>

</odoo>
