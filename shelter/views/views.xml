<odoo>
  <data>

    <record id="shelter.animal_action" model="ir.actions.act_window">
      <field name="name">Animals</field>
      <field name="res_model">shelter.animal</field>
      <field name="view_mode">list,kanban,form</field>
    </record>

    <record id='shelter.animal_view_list' model='ir.ui.view'>
      <field name="name">shelter.animal.list</field>
      <field name="model">shelter.animal</field>
      <field name="arch" type="xml">
        <list string="Animals">
          <field name="name" />
          <field name="type_id"  widget="animal_type_many2one" options="{ 'image_field': 'pictogram' }" />
          <field name="owner_id" widget="many2one_avatar"/>
          <field name="state" widget="badge" decoration-success="state == 'adopted'"/>
        </list>
      </field>
    </record>

    <record id='shelter.animal_view_kanban' model='ir.ui.view'>
      <field name="name">shelter.animal.kanban</field>
      <field name="model">shelter.animal</field>
      <field name="arch" type="xml">
        <kanban js_class="shelter_kanban">
          <templates>
            <t t-name="kanban-card" class="flex-row">
              <widget name="web_ribbon" title="Adopted" bg_color="text-bg-success" invisible="state != 'adopted'"/>
              <aside class="o_kanban_aside_full">
                <field name="picture" class="w-100" widget="image" options="{'img_class': 'object-fit-cover w-100 h-100'}" invisible="not picture"/>
                <field name="pictogram" class="w-100" widget="image" options="{'img_class': 'object-fit-content w-100 h-100'}" invisible="picture"/>
              </aside>
              <main class="d-flex justify-content-evenly">
                <field name="name"/>
                <field name="owner_id" widget="many2one_avatar" />
              </main>
            </t>

          </templates>
        </kanban>
      </field>

    </record>

    <record id='shelter.animal_view_form' model='ir.ui.view'>
      <field name="name">shelter.animal.form</field>
      <field name="model">shelter.animal</field>
      <field name="arch" type="xml">
        <form>
          <widget name="long_stay_banner" invisible="state == 'adopted' or not is_present_for_six_month" class="mb-2"/>
          <header>
            <field name="state" widget="statusbar_rainbowman" options="{ 'clickable': True, 'rainbow_stages': ['adopted'] }" />
          </header>
          <sheet>
            <widget name="web_ribbon" title="Adopted" bg_color="text-bg-success" invisible="state != 'adopted'"/>
            <group col="4">
              <group col="2">
                <field name="name" widget="name_generator" />
                <field name="type_id" />
                <field name="race_id" />
                <field name="owner_id" widget="many2one_avatar" />
                <field name="dropper_id" widget="many2one_avatar" />
                <field name="drop_date" />
                <field name="birth_date" />
              </group>
              <group col="2">
                <field nolabel="1" name="picture" widget="image"/>
              </group>
            </group>
            <notebook>
              <page name="notes" string="Notes">
                <field name="notes" />
              </page>
            </notebook>
          </sheet>
          <chatter/>
        </form>
      </field>
    </record>

    <menuitem name="Shelter" id="shelter.menu_root" groups="base.group_user" web_icon="shelter,static/description/icon.png"/>
    <menuitem name="Animals" id="shelter.animal_menu" parent="shelter.menu_root" action="shelter.animal_action" sequence="1"/>

  </data>
</odoo>
