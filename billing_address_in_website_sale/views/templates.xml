<odoo>

    <template id="address_inherit" inherit_id="website_sale.address">
        <xpath expr="//div[@id='company_name_div']" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>

        <xpath expr="//div[@id='div_vat']" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
    </template>

    <template id="billing_address_row_inherit" inherit_id="website_sale.billing_address_row">
        <xpath expr="//div[@id='billing_address_row']" position="attributes">
            <attribute name="class">d-none</attribute>
        </xpath>
    </template>

    <template id="tax_credit_row">
        <div id="tax_credit_row">
            <t t-set="has_delivery" t-value="order._has_deliverable_products()" />
            <div t-if="has_delivery" class="form-check form-switch mt-2 mb-3">
                <label id="want_tax_credit_label">
                    <input
                        type="checkbox"
                        id="want_tax_credit_checkbox"
                        class="form-check-input"
                        name="want_tax_credit"
                        t-att-checked="want_tax_credit"
                    /> Want tax-credit </label>
            </div>
            <div id="tax_credit_container" class="row">

                <input type="hidden" id="partner_id" name="partner_id"
                    t-att-value="partner.id if partner else '' " />
                <div id="vat_field" class="col-md-6">
                    <label id="vat_label" class="form-label"
                        t-esc="partner.country_id.name if partner else 'Vat Number'">
                    </label>
                    <input
                        type="text"
                        id="vat_number"
                        name="vat"
                        class="form-control"
                        t-att-value="partner.vat if partner else ''"
                    />
                </div>
                <div id="company_name_field" class="col-md-6">
                    <label class="form-label">Company Name</label>
                    <input
                        type="text"
                        id="company_name"
                        name="company_name"
                        class="form-control"
                        t-att-value="partner.name if partner else ''"
                    />
                </div>

                <div id="vat_warning" class="col-md-6 mt-2 text-danger"></div>
            </div>
        </div>
    </template>

    <template id="checkout_inherit_add_tax_credit_row" inherit_id="website_sale.checkout">
        <xpath expr="//t[@t-call='website_sale.billing_address_row']" position="before">
            <t t-call="billing_address_in_website_sale.tax_credit_row" />
        </xpath>
    </template>

    <template id="checkout_confirm_override" inherit_id="website_sale.navigation_buttons">
        <xpath expr="//a[@name='website_sale_main_button']" position="replace">
            <t t-if="xmlid in ['website_sale.checkout']">
                <button type="submit"
                    name="website_sale_main_button"
                    id="confirm_btn"
                    class="btn btn-primary w-100"> Confirm <i
                        class="fa fa-angle-right ms-2 fw-light" />
                </button>
            </t>
            <t t-else="">
                <a role="button" name="website_sale_main_button"
                    t-attf-class="#{_cta_classes} btn btn-primary #{not website_sale_order._is_cart_ready() and 'disabled'} #{_form_send_navigation and 'order-lg-3 w-100 w-lg-auto ms-lg-auto' or 'w-100'}"
                    t-att-href="step_specific_values['main_button_href']">
                    <t t-out="step_specific_values['main_button']" />
                    <i class="fa fa-angle-right ms-2 fw-light" />
                </a>
            </t>
        </xpath>
    </template>

</odoo>
