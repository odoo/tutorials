<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="referral_gift_card_program" model="loyalty.program">
        <field name="name">Referral Gift Cards</field>
        <field name="program_type">gift_card</field>
        <field name="applies_on">future</field>
        <field name="trigger">auto</field>
        <field name="portal_visible">True</field>
        <field name="portal_point_name">$</field>
        <field name="mail_template_id" ref="pos_referrals.mail_template_referral_gift_card"/>
        <field name="pos_report_print_id" ref="pos_referrals.custom_report_gift_card"/>
    </record>
    <record id="referral_gift_card_program_reward" model="loyalty.reward">
        <field name="reward_type">discount</field>
        <field name="discount_mode">per_point</field>
        <field name="discount">1</field>
        <field name="discount_applicability">order</field>
        <field name="required_points">1</field>
        <field name="program_id" ref="pos_referrals.referral_gift_card_program"/>
    </record>
    <record id="referral_gift_card_program_rule" model="loyalty.rule">
        <field name="reward_point_amount">1</field>
        <field name="reward_point_mode">money</field>
        <field name="reward_point_split">True</field>
        <field name="product_ids" eval="[(4, ref('loyalty.gift_card_product_50'))]"/>
        <field name="program_id" ref="pos_referrals.referral_gift_card_program"/>
    </record>
</odoo>
