<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="automated_estate_auction.auction_state_widget" t-inherit="web.StateSelectionField"
        t-inherit-mode="primary">
        <xpath expr="//t[@t-if='props.readonly']/button" position="attributes">
            <attribute name="tabindex">-1</attribute>
        </xpath>
        <xpath expr="//t[@t-if='props.readonly']/button/span[1]" position="attributes">
            <attribute name="t-attf-class">{{ stateIcon(currentValue) }} {{
                statusColor(currentValue) }}</attribute>
        </xpath>
        <xpath expr="//t[@t-if='props.readonly']/button" position="attributes">
            <attribute name="style">cursor: default;</attribute>
            <attribute name="t-att-title">label</attribute>
        </xpath>
        <xpath expr="//Dropdown/button/div" position="replace">
            <div t-if="isView(['activity', 'kanban', 'list', 'calendar']) or this.env.isSmall"
                class="d-flex align-items-center"
                t-att-class="{'o_task_state_list_view': isView(['list'])}" t-att-title="label">
                <i t-attf-class="{{ stateIcon(currentValue) }} {{ statusColor(currentValue) }}" />
            </div>
            <div t-else="" class="d-flex align-items-center">
                <t>
                    <span t-attf-class="o_status_label" t-out="label" />
                </t>
            </div>
        </xpath>
        <xpath expr="//Dropdown" position="attributes">
            <attribute name="position">`${ getDropdownPosition() }`</attribute>
            <attribute name="menuClass" separator=" + " add="' project_task_state_selection_menu'"></attribute>
        </xpath>
        <xpath expr="//Dropdown/button" position="attributes">
            <attribute name="tooltip">''</attribute>
            <attribute name="class" remove="p-0" add="shadow-none" separator=" " />
            <attribute name="t-att-class">getTogglerClass(currentValue)</attribute>
        </xpath>
        <xpath expr="//DropdownItem/span[1]" position="attributes">
            <attribute name="t-attf-class" separator=" " add="{{ stateIcon(option[0]) }}"
                remove="o_status"></attribute>
        </xpath>
        <xpath expr="//DropdownItem/span[2]" position="attributes">
            <attribute name="t-attf-class">{{ statusColor(option[0]) }}</attribute>
        </xpath>
    </t>
</templates>
